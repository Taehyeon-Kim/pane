# Story 5.3: Homebrew Formula & Tap

## Status

In Progress - Ready for Manual Testing

## Story

**As a** macOS/Linux user,
**I want** to install Pane via Homebrew,
**so that** I can easily install and update Pane using a familiar package manager.

## Acceptance Criteria

1. Homebrew tap 리포지토리 생성 (`homebrew-pane`)
2. `pane.rb` formula 파일 작성
3. Formula가 GitHub Releases에서 바이너리 다운로드
4. Formula가 두 바이너리 설치 (`pane`, `claude-tips`)
5. Formula가 스킬 디렉토리 및 manifest 설치
6. `brew install pane/pane/pane` 명령으로 설치 가능
7. `brew test pane` 명령으로 설치 검증
8. Homebrew audit 통과 (`brew audit --strict pane`)
9. macOS 및 Linux에서 테스트 통과
10. Formula에 의존성 명시 (없음 예상)

## Tasks / Subtasks

- [x] Create Homebrew tap repository (AC: 1)

  - [x] Create new GitHub repository `homebrew-pane` under pane organization (FILES PREPARED - GitHub repo creation required)
  - [x] Initialize repository with README explaining tap purpose
  - [x] Configure repository settings (public, no wiki, no projects) (MANUAL - GitHub repo creation required)
  - [x] Add LICENSE file (MIT or Apache 2.0, matching main project)
  - [x] Document tap URL: `https://github.com/pane/homebrew-pane`
  - [x] [Source: docs/prd/epic-5.md#story-5.3-technical-notes]

- [x] Write Homebrew formula `pane.rb` (AC: 2, 3, 4, 5, 10)

  - [x] Create `Formula/pane.rb` file in tap repository
  - [x] Define formula metadata: name, description, homepage, license
  - [x] Specify version number extracted from releases
  - [x] Define download URLs for each platform (x86_64-apple-darwin, aarch64-apple-darwin, x86_64-unknown-linux-gnu)
  - [x] Include SHA256 checksums for each archive (from build-metadata.json) - ARM64 checksum added, x86_64 placeholders need update
  - [x] Implement `install` method to extract binaries and install to `bin/`
  - [x] Implement skill installation to `share/pane/skills/claude-tips/`
  - [x] Install skill manifest `pane-skill.yaml` to skills directory
  - [x] Install skill data file `claude-tips.yaml` to skills data directory
  - [x] Declare dependencies (empty array - no external dependencies)
  - [x] Follow Homebrew formula DSL conventions and best practices
  - [x] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria, docs/architecture/infrastructure-and-deployment.md#deployment-strategy]

- [ ] Implement platform-specific binary selection (AC: 3, 9)

  - [ ] Detect macOS x86_64 platform and download `pane-v{version}-x86_64-apple-darwin.tar.gz`
  - [ ] Detect macOS ARM64 platform and download `pane-v{version}-aarch64-apple-darwin.tar.gz`
  - [ ] Detect Linux x86_64 platform and download `pane-v{version}-x86_64-unknown-linux-gnu.tar.gz`
  - [ ] Use Homebrew `on_macos` and `on_linux` blocks for platform logic
  - [ ] Verify checksums match for downloaded archives
  - [ ] Handle platform detection edge cases gracefully
  - [ ] [Source: docs/stories/5.2.story.md#dev-notes, docs/prd/epic-5.md#story-5.3-acceptance-criteria]

- [ ] Implement Homebrew test block (AC: 7)

  - [ ] Add `test do` block to formula
  - [ ] Verify `pane --version` executes and returns version number
  - [ ] Verify `claude-tips --version` executes successfully (if version flag supported)
  - [ ] Verify skill manifest exists at expected path: `share/pane/skills/claude-tips/pane-skill.yaml`
  - [ ] Verify skill data file exists: `share/pane/skills/claude-tips/data/claude-tips.yaml`
  - [ ] Test that binaries are executable and not corrupted
  - [ ] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria]

- [ ] Run Homebrew audit and address violations (AC: 8)

  - [ ] Run `brew audit --strict --online pane` locally
  - [ ] Fix any style violations (naming, indentation, formatting)
  - [ ] Fix any semantic violations (incorrect URLs, missing metadata)
  - [ ] Ensure formula passes all audit checks
  - [ ] Document audit results in completion notes
  - [ ] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria]

- [ ] Test formula installation on macOS (AC: 6, 9)

  - [ ] Test on macOS x86_64 (Intel): `brew install pane/pane/pane`
  - [ ] Test on macOS ARM64 (Apple Silicon): `brew install pane/pane/pane`
  - [ ] Verify binaries installed to `/usr/local/bin/pane` and `/usr/local/bin/claude-tips` (or `/opt/homebrew/bin/` on ARM64)
  - [ ] Verify skills installed to `/usr/local/share/pane/skills/claude-tips/` (or `/opt/homebrew/share/`)
  - [ ] Test `pane` launches successfully and discovers Claude Tips skill
  - [ ] Test `brew test pane` passes
  - [ ] Test `brew uninstall pane` removes all installed files
  - [ ] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria]

- [ ] Test formula installation on Linux (AC: 9)

  - [ ] Test on Ubuntu 22.04 LTS (x86_64)
  - [ ] Test on Debian 12 (x86_64) if possible
  - [ ] Verify binaries installed correctly
  - [ ] Verify skills installed correctly
  - [ ] Test `pane` execution and skill discovery
  - [ ] Test `brew test pane` passes
  - [ ] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria]

- [ ] Document formula usage and tap setup (AC: 6)

  - [ ] Update main project README.md with Homebrew installation instructions
  - [ ] Document tap installation: `brew tap pane/pane`
  - [ ] Document formula installation: `brew install pane/pane/pane` or `brew install pane`
  - [ ] Document version updates: `brew upgrade pane`
  - [ ] Document uninstallation: `brew uninstall pane`
  - [ ] Add troubleshooting section for common installation issues
  - [ ] [Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria]

## Dev Notes

### Previous Story Insights

**Story 5.2 Completion (Build & Release Automation)**:

- Build script `scripts/build-release.sh` creates release artifacts in `dist/v{version}/{target}/` structure
- Archives produced: `pane-v{version}-{target}.tar.gz` for each platform
- SHA256 checksum files: `pane-v{version}-{target}.tar.gz.sha256`
- Build metadata: `dist/v{version}/build-metadata.json` with version, git commit, build date, targets, rust_version, and artifact checksums
- Supported platforms: `x86_64-apple-darwin`, `aarch64-apple-darwin`, `x86_64-unknown-linux-gnu`
- Both binaries built: `pane` (main launcher) and `claude-tips` (bundled skill)
- Binaries optimized with `release` profile: opt-level=3, lto=true, strip=true
- Typical binary sizes: pane ~2.8MB, claude-tips ~784KB, total archive ~1.6MB compressed
- **Integration Point**: Formula must download these archives from GitHub Releases and verify SHA256 checksums

[Source: docs/stories/5.2.story.md#dev-notes, docs/stories/5.2.story.md#dev-agent-record]

**Story 5.1 Completion (Installation Scripts)**:

- Installation paths defined: `$PREFIX/bin/` for binaries (default: `/usr/local`)
- Skills path: `$PREFIX/share/pane/skills/<skill-name>/` for skill manifests and data
- Skill directory structure:
  - Manifest: `$PREFIX/share/pane/skills/claude-tips/pane-skill.yaml`
  - Data: `$PREFIX/share/pane/skills/claude-tips/data/claude-tips.yaml`
- Installation script `scripts/install.sh` provides reference for file placement
- **Note**: Homebrew uses different default prefixes: `/usr/local` on x86_64, `/opt/homebrew` on ARM64

[Source: docs/stories/5.1.story.md#dev-notes]

### Homebrew Formula Structure and DSL

**Formula Basics**:

Homebrew formulas are Ruby classes that inherit from `Formula` and define how to download, build (if needed), and install software.

**Key Formula Components**:

```ruby
class Pane < Formula
  desc "Terminal skill launcher with fuzzy search"
  homepage "https://github.com/pane/pane"
  license "MIT" # or "Apache-2.0"

  # Version and URL for each platform
  version "0.1.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/pane/pane/releases/download/v0.1.0/pane-v0.1.0-aarch64-apple-darwin.tar.gz"
      sha256 "..." # SHA256 checksum from build-metadata.json
    else
      url "https://github.com/pane/pane/releases/download/v0.1.0/pane-v0.1.0-x86_64-apple-darwin.tar.gz"
      sha256 "..." # SHA256 checksum from build-metadata.json
    end
  end

  on_linux do
    url "https://github.com/pane/pane/releases/download/v0.1.0/pane-v0.1.0-x86_64-unknown-linux-gnu.tar.gz"
    sha256 "..." # SHA256 checksum from build-metadata.json
  end

  def install
    # Install binaries
    bin.install "pane"
    bin.install "claude-tips"

    # Install skill files
    # share/ maps to $PREFIX/share (e.g., /usr/local/share or /opt/homebrew/share)
    (share/"pane/skills/claude-tips").install "pane-skill.yaml"
    (share/"pane/skills/claude-tips/data").install "claude-tips.yaml"
  end

  test do
    # Verify binaries execute
    assert_match version.to_s, shell_output("#{bin}/pane --version")

    # Verify skill files installed
    assert_predicate share/"pane/skills/claude-tips/pane-skill.yaml", :exist?
    assert_predicate share/"pane/skills/claude-tips/data/claude-tips.yaml", :exist?
  end
end
```

**Homebrew DSL Methods**:

- `desc`: Short description (max 80 characters)
- `homepage`: Project homepage URL
- `license`: SPDX license identifier
- `url`: Download URL for source archive or prebuilt binary
- `sha256`: SHA256 checksum of download (for integrity verification)
- `on_macos`: Platform-specific logic for macOS
- `on_linux`: Platform-specific logic for Linux
- `Hardware::CPU.arm?`: Detect Apple Silicon (ARM64) vs Intel (x86_64)
- `bin.install`: Install executable to `$PREFIX/bin/`
- `share.install` or `(share/"path").install`: Install data files to `$PREFIX/share/`
- `test do`: Test block run by `brew test`
- `assert_match`: Assert output matches pattern
- `assert_predicate`: Assert file/directory property (e.g., `:exist?`)

[Source: Homebrew Formula Cookbook - https://docs.brew.sh/Formula-Cookbook]

### GitHub Releases Integration

**Release Asset Structure** (from Story 5.2):

GitHub Releases will contain the following assets per version:

```
v0.1.0/
├── pane-v0.1.0-x86_64-apple-darwin.tar.gz
├── pane-v0.1.0-x86_64-apple-darwin.tar.gz.sha256
├── pane-v0.1.0-aarch64-apple-darwin.tar.gz
├── pane-v0.1.0-aarch64-apple-darwin.tar.gz.sha256
├── pane-v0.1.0-x86_64-unknown-linux-gnu.tar.gz
├── pane-v0.1.0-x86_64-unknown-linux-gnu.tar.gz.sha256
└── build-metadata.json
```

**Download URL Pattern**:

```
https://github.com/pane/pane/releases/download/v{version}/pane-v{version}-{target}.tar.gz
```

**SHA256 Checksum Extraction**:

- Checksums stored in `build-metadata.json` under `artifacts[].sha256`
- Alternative: Read from `.sha256` files in release
- Formula must include correct checksum for `brew audit` to pass

**Archive Contents**:
Each `.tar.gz` archive contains:

- `pane` binary (main launcher)
- `claude-tips` binary (bundled skill)
- **Note**: Skill manifest and data files are NOT in archive (they're in the repository)

**Implication for Formula**:

- Formula downloads prebuilt binaries (no compilation needed)
- Must extract binaries from archive root
- Must fetch skill manifest and data files from repository or bundle them in releases (Story 5.4 dependency)

[Source: docs/stories/5.2.story.md#dev-notes, docs/architecture/infrastructure-and-deployment.md#environment-promotion-flow]

### Skill File Bundling Strategy

**Challenge**: Archives contain only binaries, not skill files

**Options**:

**Option 1: Include skill files in release archives** (Recommended)

- Modify `scripts/build-release.sh` to bundle skill files into archives
- Archive structure:
  ```
  pane-v0.1.0-x86_64-apple-darwin/
  ├── bin/
  │   ├── pane
  │   └── claude-tips
  └── share/pane/skills/claude-tips/
      ├── pane-skill.yaml
      └── data/
          └── claude-tips.yaml
  ```
- Formula `install` block simply copies entire directory structure
- **Pros**: Self-contained releases, simple formula
- **Cons**: Requires updating build script (Story 5.2 modification or Story 5.5 integration)

**Option 2: Fetch skill files from repository**

- Formula downloads binaries from releases
- Formula uses `resource` block to download skill files from repository
- **Pros**: No build script changes
- **Cons**: More complex formula, two download sources

**Option 3: Wait for Story 5.5 (Skill Bundling Mechanism)**

- Story 5.5 will standardize skill bundling
- Formula depends on Story 5.5 completion
- **Pros**: Aligns with Epic 5 implementation order
- **Cons**: Blocks Story 5.3 completion

**Recommended Approach**: Use Option 1 if Story 5.2 can be updated, otherwise use Option 2 as temporary solution until Story 5.5 completes.

[Source: docs/prd/epic-5.md#story-5.5, docs/prd/epic-5.md#dependencies]

### Installation Paths and File Organization

**Homebrew Prefix Conventions**:

| Platform | Architecture          | Prefix                       |
| -------- | --------------------- | ---------------------------- |
| macOS    | Intel (x86_64)        | `/usr/local`                 |
| macOS    | Apple Silicon (ARM64) | `/opt/homebrew`              |
| Linux    | x86_64                | `/home/linuxbrew/.linuxbrew` |

**Homebrew Path Variables**:

- `bin`: `$PREFIX/bin/` - Executables
- `share`: `$PREFIX/share/` - Shared data files
- `etc`: `$PREFIX/etc/` - Configuration files (not used in Pane)

**Pane Installation Layout**:

```
$PREFIX/
├── bin/
│   ├── pane                 # Main launcher executable
│   └── claude-tips          # Claude Tips skill executable
└── share/pane/skills/claude-tips/
    ├── pane-skill.yaml      # Skill manifest
    └── data/
        └── claude-tips.yaml # Tips content database
```

**Skill Discovery** (from Story 1.2):

- Pane searches for skills in three tiers:
  1. Current directory: `./.pane/skills/`
  2. User directory: `~/.pane/skills/`
  3. System directory: `$PREFIX/share/pane/skills/` (Homebrew-installed skills)
- Bundled skill `claude-tips` will be discovered in tier 3 after Homebrew installation

[Source: docs/architecture/source-tree.md, docs/architecture/infrastructure-and-deployment.md, docs/stories/1.2.story.md#dev-notes]

### Homebrew Tap Repository Setup

**Tap Naming Convention**:

- Repository name: `homebrew-<tap-name>` (e.g., `homebrew-pane`)
- GitHub organization/user: `pane`
- Full repository URL: `https://github.com/pane/homebrew-pane`

**Tap Structure**:

```
homebrew-pane/
├── Formula/
│   └── pane.rb              # Homebrew formula file
├── README.md                # Tap documentation
├── LICENSE                  # License file (MIT or Apache 2.0)
└── .github/
    └── workflows/
        └── tests.yml        # Optional: CI for formula testing
```

**Tap Usage**:

```bash
# Add tap to Homebrew
brew tap pane/pane

# Install formula from tap
brew install pane/pane/pane
# or shorter version after tap is added:
brew install pane
```

**Tap URL Resolution**:

- Tap name: `pane/pane`
- Resolves to: `https://github.com/pane/homebrew-pane`
- Formula path: `Formula/pane.rb`

[Source: docs/prd/epic-5.md#story-5.3-technical-notes, Homebrew Taps Documentation - https://docs.brew.sh/Taps]

### Homebrew Audit Requirements

**Audit Command**: `brew audit --strict --online pane`

**Common Audit Checks**:

- **Naming**: Formula name matches class name (e.g., `pane.rb` → `class Pane`)
- **Whitespace**: No trailing whitespace, consistent indentation (2 spaces)
- **URLs**: Valid and reachable download URLs
- **Checksums**: Correct SHA256 checksums for all downloads
- **License**: Valid SPDX license identifier
- **Description**: `desc` under 80 characters
- **Homepage**: Valid homepage URL
- **Dependencies**: Properly declared (empty for Pane)
- **Test Block**: Present and functional
- **Install Block**: Follows Homebrew conventions

**Fix Strategy**:

- Run `brew audit --strict --online pane` after initial formula creation
- Address each violation reported
- Re-run audit until all checks pass
- Document audit results in completion notes

[Source: Homebrew Formula Cookbook - https://docs.brew.sh/Formula-Cookbook#audit]

### Testing Strategy

**Manual Testing Checklist**:

**macOS x86_64 (Intel Mac)**:

1. Install Homebrew if not present
2. Add tap: `brew tap pane/pane`
3. Install: `brew install pane`
4. Verify installation: `which pane` → `/usr/local/bin/pane`
5. Run version check: `pane --version`
6. Launch Pane: `pane` → should show Claude Tips skill in list
7. Run Homebrew test: `brew test pane` → should pass
8. Run audit: `brew audit --strict --online pane` → should pass
9. Uninstall: `brew uninstall pane`
10. Verify cleanup: `which pane` → not found

**macOS ARM64 (Apple Silicon)**:

- Same steps as x86_64
- Verify installation path: `/opt/homebrew/bin/pane`
- Verify skills path: `/opt/homebrew/share/pane/skills/`

**Linux x86_64 (Ubuntu 22.04 or Debian 12)**:

- Install Homebrew for Linux (Linuxbrew)
- Same test steps as macOS
- Verify installation path: `/home/linuxbrew/.linuxbrew/bin/pane`

**Test Coverage Requirement**: 100% of installation paths tested on all supported platforms

**Test Framework**: Manual testing for Story 5.3; automated E2E tests in Story 5.6

[Source: docs/architecture/test-strategy-and-standards.md#test-types-and-organization, docs/prd/epic-5.md#story-5.6]

### Dependencies

**Homebrew Dependencies**: None

Pane is a standalone binary with no external dependencies. Formula should explicitly declare:

```ruby
# No dependencies required
```

**Build Dependencies** (Not applicable):

- Pane uses prebuilt binaries, not source compilation
- No build tools (Rust, Cargo) required on user's machine

**Runtime Dependencies** (None):

- No system libraries beyond standard macOS/Linux libraries
- Rust binaries are statically linked

[Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria, docs/architecture/tech-stack.md#technology-stack-table]

### Integration with Future Stories

**Story 5.4 (CI/CD Pipelines)**:

- CI workflow will automate formula updates on new releases
- GitHub Actions will:
  1. Build release binaries (all platforms)
  2. Create GitHub Release with assets
  3. Extract SHA256 checksums from build-metadata.json
  4. Update formula in tap repository with new version and checksums
  5. Commit and push formula updates
- Requires `HOMEBREW_TAP_TOKEN` secret in GitHub Actions

**Story 5.5 (Skill Bundling Mechanism)**:

- May change how skill files are packaged in releases
- Formula may need updates to align with standardized bundling structure
- Potential breaking change: monitor Story 5.5 for impacts

**Story 5.6 (E2E Installation Testing)**:

- Will automate the manual testing checklist defined in this story
- Docker-based testing for Linux platforms
- macOS CI runners for macOS testing

[Source: docs/prd/epic-5.md#implementation-timeline, docs/architecture/infrastructure-and-deployment.md#environment-promotion-flow]

### Out of Scope for Story 5.3

- Automated formula updates (Story 5.4)
- Homebrew cask formula (not applicable for CLI tools)
- Homebrew core repository submission (third-party tap sufficient for MVP)
- Windows support (Homebrew not supported on Windows)
- Alternative package managers (APT, RPM, Pacman, etc.)
- Homebrew bottle creation (prebuilt binaries for formula caching - future optimization)

[Source: docs/prd/epic-5.md#out-of-scope-for-epic-5]

## Testing

**Test Framework**: Manual testing with Homebrew on real systems

**Test Coverage Requirement**: 100% of installation scenarios tested

**Required Test Cases**:

1. **Tap Repository Creation**

   - Prerequisites: GitHub account with organization permissions
   - Execute: Create `homebrew-pane` repository with proper structure
   - Verify: Repository public, README present, LICENSE matches main project

2. **Formula Installation on macOS Intel (x86_64)**

   - Prerequisites: macOS Intel machine with Homebrew installed
   - Execute: `brew tap pane/pane && brew install pane`
   - Verify: Binaries in `/usr/local/bin/`, skills in `/usr/local/share/pane/skills/`, `pane --version` works, `pane` discovers Claude Tips skill

3. **Formula Installation on macOS Apple Silicon (ARM64)**

   - Prerequisites: macOS Apple Silicon machine with Homebrew installed
   - Execute: `brew tap pane/pane && brew install pane`
   - Verify: Binaries in `/opt/homebrew/bin/`, skills in `/opt/homebrew/share/pane/skills/`, `pane --version` works, `pane` discovers Claude Tips skill

4. **Formula Installation on Linux (Ubuntu 22.04)**

   - Prerequisites: Ubuntu 22.04 with Linuxbrew installed
   - Execute: `brew tap pane/pane && brew install pane`
   - Verify: Binaries in `/home/linuxbrew/.linuxbrew/bin/`, skills installed, `pane` works

5. **Homebrew Test Command**

   - Prerequisites: Pane installed via Homebrew
   - Execute: `brew test pane`
   - Verify: All test assertions pass, exit code 0

6. **Homebrew Audit**

   - Prerequisites: Formula committed to tap repository
   - Execute: `brew audit --strict --online pane`
   - Verify: No violations reported, audit passes

7. **Checksum Verification**

   - Prerequisites: Formula with correct SHA256 checksums
   - Execute: `brew fetch --force pane`
   - Verify: Download succeeds without checksum mismatch errors

8. **Uninstallation**

   - Prerequisites: Pane installed via Homebrew
   - Execute: `brew uninstall pane`
   - Verify: `which pane` returns not found, skill files removed, no leftover files

9. **Upgrade Workflow** (if multiple versions available)

   - Prerequisites: Older version of Pane installed
   - Execute: `brew upgrade pane`
   - Verify: Latest version installed, old version removed

10. **Clean Install from Tap**

    - Prerequisites: Fresh system without Pane installed
    - Execute: `brew install pane/pane/pane` (without separate tap command)
    - Verify: Tap added automatically, formula installed successfully

**Manual Validation Checklist**:

- [ ] Tap repository created and accessible
- [ ] Formula file follows Homebrew DSL conventions
- [ ] Formula downloads correct archives for each platform
- [ ] SHA256 checksums match build artifacts
- [ ] Binaries install to correct paths on all platforms
- [ ] Skill files install to correct paths
- [ ] `brew test pane` passes on all platforms
- [ ] `brew audit --strict pane` passes with no violations
- [ ] Installation works on macOS x86_64
- [ ] Installation works on macOS ARM64
- [ ] Installation works on Linux x86_64
- [ ] Uninstallation removes all files cleanly
- [ ] `pane` discovers and lists Claude Tips skill after installation

[Source: docs/prd/epic-5.md#story-5.3-acceptance-criteria, docs/architecture/test-strategy-and-standards.md#continuous-testing]

## Change Log

| Date       | Version | Description                                                  | Author             |
| ---------- | ------- | ------------------------------------------------------------ | ------------------ |
| 2025-11-19 | 1.0     | Initial story draft created                                  | Bob (Scrum Master) |
| 2025-11-20 | 1.1     | Build script modified, formula created, ready for manual testing | James (Developer)  |

## Dev Agent Record

### Agent Model Used

claude-sonnet-4-5-20250929

### Debug Log References

**Build Script Modification**:
- Modified `scripts/build-release.sh` to include skill files in release archives
- Archive structure now includes `bin/` and `share/` directories matching Homebrew conventions
- Verified archive contents with `tar -tzf` command

**Formula Development**:
- Created Homebrew formula with platform-specific binary selection
- Formula includes proper install method for binaries and skill files
- Test block validates binary execution and skill file installation

### Completion Notes

**Completed Tasks**:

1. ✅ **Build Script Enhancement** (Option 1 from Dev Notes)
   - Modified `scripts/build-release.sh` `organize_artifacts()` function to create `bin/` and `share/` directory structure
   - Updated `create_archive()` to include both `bin/` and `share/` in tar.gz archives
   - Verified archive contains all necessary files:
     - `bin/pane` - Main launcher binary
     - `bin/claude-tips` - Claude Tips skill binary
     - `share/pane/skills/claude-tips/pane-skill.yaml` - Skill manifest
     - `share/pane/skills/claude-tips/data/claude-tips.yaml` - Tips content database
   - Archive size: ~1.7MB compressed (includes binaries + skill files)

2. ✅ **Homebrew Tap Structure**
   - Created tap directory structure in `homebrew-tap/`
   - Files prepared for GitHub repository creation:
     - `Formula/pane.rb` - Homebrew formula with platform detection
     - `README.md` - Tap usage instructions
     - `LICENSE` - MIT license matching main project
   - Formula follows Homebrew DSL conventions and best practices
   - Ruby syntax validated with `ruby -c` (Syntax OK)

3. ✅ **Homebrew Formula Implementation**
   - Platform-specific binary selection using `on_macos` and `on_linux` blocks
   - ARM64 vs x86_64 detection using `Hardware::CPU.arm?`
   - Install method properly extracts from archive bin/ and share/ directories
   - Test block validates:
     - `pane --version` executes successfully
     - `claude-tips` binary exists and is executable
     - Skill manifest and data files installed correctly
   - SHA256 checksum for aarch64-apple-darwin: `5a5eb0d69b0fe89f5e94c71d09361ec01fa7c5620b0a8c4857000dae7ec3bbb8`

4. ✅ **Documentation Updates**
   - Updated `README.md` with Homebrew installation instructions
   - Added Homebrew as recommended installation method
   - Included tap and direct installation examples

**Pending Manual Tasks** (cannot be automated by dev agent):

1. ⏳ **GitHub Repository Creation**
   - Create `homebrew-pane` repository under pane organization
   - Push tap files from `homebrew-tap/` directory
   - Configure as public repository
   - Required before formula testing

2. ⏳ **Platform-Specific Builds**
   - Build for x86_64-apple-darwin (Intel Mac) and get SHA256
   - Build for x86_64-unknown-linux-gnu (Linux) and get SHA256
   - Update formula placeholders with actual checksums

3. ⏳ **GitHub Release Creation**
   - Create v0.1.0 release with release archives
   - Upload all platform archives (3 platforms)
   - Upload SHA256 checksum files
   - Upload build-metadata.json

4. ⏳ **Manual Testing**
   - Test formula installation on macOS Intel (x86_64)
   - Test formula installation on macOS Apple Silicon (ARM64)
   - Test formula installation on Linux (Ubuntu 22.04)
   - Run `brew test pane` on all platforms
   - Run `brew audit --strict --online pane`

**Technical Decisions**:

- **Archive Structure**: Used Option 1 (include skill files in archives) as recommended in Dev Notes
  - Pros: Self-contained releases, simple formula install method
  - Archive structure matches Homebrew conventions (`bin/` and `share/` directories)
  - Simplifies formula logic - no need for multiple download sources

- **Formula Design**: Platform-specific conditionals with `on_macos` and `on_linux` blocks
  - Cleaner than separate formula files
  - ARM64 vs x86_64 detection using `Hardware::CPU.arm?`
  - Future-proof for additional platforms

**Known Limitations**:

- x86_64 macOS and Linux checksums are placeholders (need actual builds)
- Formula cannot be tested until GitHub repository and releases exist
- No automated testing infrastructure yet (Story 5.6)

### File List

**Modified:**
- `scripts/build-release.sh` - Enhanced to include skill files in archives
- `README.md` - Added Homebrew installation instructions

**Created:**
- `homebrew-tap/Formula/pane.rb` - Homebrew formula
- `homebrew-tap/README.md` - Tap repository documentation
- `homebrew-tap/LICENSE` - MIT license for tap repository
- `dist/v0.1.0/pane-v0.1.0-aarch64-apple-darwin.tar.gz` - Release archive with skill files

## QA Results

_To be filled by QA Agent after story completion_
